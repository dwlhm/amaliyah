var c=Object.defineProperty;var r=(t,e)=>c(t,"name",{value:e,configurable:!0});import{C as u,l as d}from"./index-d3c0aad0.js";import{w as a}from"./es.array.from-ca2ad2a2.js";function v(){var t={setHandler:r(function(){},"setHandler"),send:r(function(){},"send")};return new u({transport:t})}r(v,"mockChannel");var o;(function(t){t.TAB="tab",t.PANEL="panel",t.TOOL="tool",t.TOOLEXTRA="toolextra",t.PREVIEW="preview",t.NOTES_ELEMENT="notes-element"})(o||(o={}));function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}r(l,"_defineProperties");function g(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}r(g,"_createClass");function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r(C,"_classCallCheck");var w=g(r(function t(){var e=this;C(this,t),this.loaders={},this.elements={},this.config={},this.channel=void 0,this.serverChannel=void 0,this.promise=void 0,this.resolve=void 0,this.getChannel=function(){return e.channel||e.setChannel(v()),e.channel},this.getServerChannel=function(){if(!e.serverChannel)throw new Error("Accessing non-existent serverChannel");return e.serverChannel},this.ready=function(){return e.promise},this.hasChannel=function(){return!!e.channel},this.hasServerChannel=function(){return!!e.serverChannel},this.setChannel=function(n){e.channel=n,e.resolve()},this.setServerChannel=function(n){e.serverChannel=n},this.getElements=function(n){return e.elements[n]||(e.elements[n]={}),e.elements[n]},this.addPanel=function(n,i){e.add(n,Object.assign({type:o.PANEL},i))},this.add=function(n,i){var h=i.type,f=e.getElements(h);f[n]=Object.assign({id:n},i)},this.setConfig=function(n){Object.assign(e.config,n)},this.getConfig=function(){return e.config},this.register=function(n,i){e.loaders[n]&&d.warn("".concat(n," was loaded twice, this could have bad side-effects")),e.loaders[n]=i},this.loadAddons=function(n){Object.values(e.loaders).forEach(function(i){return i(n)})},this.promise=new Promise(function(n){e.resolve=function(){return n(e.getChannel())}})},"AddonStore")),s="__STORYBOOK_ADDONS";function m(){return a[s]||(a[s]=new w),a[s]}r(m,"getAddonsStore");var A=m();export{A as a};
//# sourceMappingURL=index-ad4b988f.js.map
